{% autoescape None %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Chart Shared from Notebook and PixieDust</title>
    <meta name="description" content="Content generated by PixieDust">
    <meta name="author" content="PixieDust">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<style>
    .bk-root {
        display: inline-block !important;
        width: initial !important;
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function(evt) {

        var copyBtn = document.getElementById('copytoclipboard')
        var textArea = document.getElementById('copytextarea')

        copyBtn.addEventListener('click', function(event) {
            var copyMsg = document.getElementById('copymsg')
            textArea.select();
            try {
                var successful = document.execCommand('copy')
                if (successful) {
                    copyMsg.innerText = 'Copied to clipboard!'
                } else {
                    copyMsg.innerText = 'Failed to copy to clipboard!'
                }
            } catch (err) {
                console.log('Unable to copy')
            }
        })

        var server = window.location.origin ? window.location.origin : (window.location.protocol + '://' + Window.location.host)
        var chartid = '{{chart_model["CHARTID"]}}'
        var snippet = '<object type="text/html" data="' + server + '/embed/' + chartid + '/600/400" width="600" height="400">' +
                    '<a href="' + server + '/embed/' + chartid + '">View Chart</a>' +
                    '</object>'

        textArea.innerText = snippet
    })
</script>
<body>
    <div class="row" style="height: calc(100vh - 15px);">
        <div class="col-xs-12 col-sm-9" style="display: table; height: 100%; padding: 0;">
            <div class="container" style="padding: 25px; display: table-cell; vertical-align: middle; text-align: center;">
                {{chart_model['CONTENT']}}
            </div>
        </div>
        <div class="col-xs-12 col-sm-3" style="background-color: #1D3649; height:100%; padding: 25px; color: #ffffff; position: relative; font-size: 16px;">
            <p>
                <div><strong>Author:</strong></div>
                <div>{{chart_model['AUTHOR']}}</div>
            </p>
            <p>
                <div><strong>Description:</strong></div>
                <div>{{chart_model['DESCRIPTION']}}</div>
            </p>
            <p>
                <div><strong>Date:</strong></div>
                <div>{{chart_model['DATE']}}</div>
            </p>

            <p style="margin-top:50px">
                <div><strong>Embed this chart into your web app</strong></div>
                <div>
                    <textarea id="copytextarea" class="form-control" rows="6"  readonly
                        style="border-radius: 0; border: 0 none; margin-top: 10px; padding: 10px; font-family: monospace;"></textarea>
                </div>
                <div style="text-align: right; padding-top: 15px;">
                    <span id="copymsg" style="float:left;font-weight: bold;color: lightblue;"></span>
                    <button id="copytoclipboard" type="button" class="btn btn-warning" style="border-radius: 0px;">Copy to clipboard</button>
                </div>
            </p>

            <div style="position: absolute; bottom: 0; left: 0; right: 0; padding: 10px 20px; text-align: right; font-size: 13px;">
                <strong>
                    <a href="https://github.com/ibm-watson-data-lab/pixiedust" target="_new" style="color: orange;">
                        <!-- <img src="https://github.com/ibm-watson-data-lab/pixiedust/raw/master/docs/_static/pd_icon32.png" style="float:left;margin-right:10px"> -->
                        <span>Powered by PixieDust</span>
                    </a>
                </strong>
            </div>
        </div>
    </div>
</body>
</html>